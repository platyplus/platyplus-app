#import "./fragments.graphql"
query tableQuery($name: String!) {
  _metadataTable(name: $name) {
    name
    label {
      template
    }
    canSelect
    canInsert
    canUpdate
    canDelete
    listQuery
    elementQuery
    insertRules {
      ...ruleFragment
    }
    updateRules {
      ...ruleFragment
    }
    deleteRules {
      ...ruleFragment
    }
    idFields {
      ...columnFragment
    }
    fields {
      id
      name
      component
      canSelect
      canInsert
      canUpdate
      insertRules {
        ...ruleFragment
      }
      updateRules {
        ...ruleFragment
      }
      ... on Column {
        ...columnFragment
      }
      ... on Relationship {
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
        optionsQuery
      }
      ... on ManyToManyRelationship {
        through {
          ...targetFragment
        }
        throughMapping {
          ...mappingFragment
        }
        originPropertyName
        targetPropertyName
        optionsQuery
      }
    }
  }
}
