#import "./fragments.graphql"
query tableQuery($name: String!) {
  _metadataTable(name: $name) {
    name
    label {
      template
    }
    canSelect
    canInsert
    canUpdate
    canDelete
    listQuery
    elementQuery
    insertRules {
      ...ruleFragment
    }
    updateRules {
      ...ruleFragment
    }
    deleteRules {
      ...ruleFragment
    }
    idFields {
      ...columnFragment
    }
    fields {
      id
      name
      component
      ... on Column {
        ...columnFragment
      }
      ... on SingleRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
        optionsQuery
      }
      ... on OneToManyRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
        optionsQuery
      }
      ... on ManyToManyRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
        through {
          ...targetFragment
        }
        throughMapping {
          ...mappingFragment
        }
        optionsQuery
      }
    }
  }
}
