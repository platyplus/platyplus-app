#import "./fragments.graphql"
query tableQuery($id: String!) {
  _metadataTable(id: $id) {
    id
    name
    schema
    label {
      template
    }
    canSelect
    canInsert
    canUpdate
    canDelete
    listQuery
    elementQuery
    insertRules {
      ...ruleFragment
    }
    updateRules {
      ...ruleFragment
    }
    deleteRules {
      ...ruleFragment
    }
    idFields {
      ...columnFragment
    }
    fields {
      id
      name
      component
      ... on Column {
        ...columnFragment
      }
      ... on SingleRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
      }
      ... on OneToManyRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
      }
      ... on ManyToManyRelationship {
        comment
        target {
          ...targetFragment
        }
        mapping {
          ...mappingFragment
        }
        through {
          ...targetFragment
        }
        throughMapping {
          ...mappingFragment
        }
      }
    }
  }
}
